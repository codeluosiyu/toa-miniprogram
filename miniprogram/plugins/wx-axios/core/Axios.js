import dispatchRequest from './dispatchRequest';
import InterceptorManager from './InterceptorManager';
import mergeConfig from './mergeConfig';
var Axios = (function () {
    function Axios(initConfig) {
        this.defaults = initConfig;
        this.interceptors = {
            request: new InterceptorManager(),
            response: new InterceptorManager()
        };
    }
    Axios.prototype.request = function (url, config) {
        if (typeof url === 'string') {
            if (!config) {
                config = {};
            }
            config.url = url;
        }
        else {
            config = url;
        }
        config = mergeConfig(this.defaults, config);
        var chain = [{
                resolved: dispatchRequest,
                rejected: undefined
            }];
        this.interceptors.request.forEach(function (interceptor) {
            chain.unshift(interceptor);
        });
        this.interceptors.response.forEach(function (interceptor) {
            chain.push(interceptor);
        });
        var promise = Promise.resolve(config);
        while (chain.length) {
            var _a = chain.shift(), resolved = _a.resolved, rejected = _a.rejected;
            promise = promise.then(resolved, rejected);
        }
        return promise;
    };
    Axios.prototype.get = function (url, config) {
        return this._requestMethodWithoutData('GET', url, config);
    };
    Axios.prototype.delete = function (url, config) {
        return this._requestMethodWithoutData('DELETE', url, config);
    };
    Axios.prototype.head = function (url, config) {
        return this._requestMethodWithoutData('HEAD', url, config);
    };
    Axios.prototype.options = function (url, config) {
        return this._requestMethodWithoutData('OPTIONS', url, config);
    };
    Axios.prototype.trace = function (url, config) {
        return this._requestMethodWithoutData('TRACE', url, config);
    };
    Axios.prototype.connect = function (url, config) {
        return this._requestMethodWithoutData('CONNECT', url, config);
    };
    Axios.prototype.post = function (url, data, config) {
        return this._requestMethodWithData('POST', url, data, config);
    };
    Axios.prototype.put = function (url, data, config) {
        return this._requestMethodWithData('PUT', url, data, config);
    };
    Axios.prototype.upload = function (url, config) {
        return this._requestMethodWithoutData('UPLOAD', url, config);
    };
    Axios.prototype._requestMethodWithoutData = function (method, url, config) {
        return this.request(Object.assign(config || {}, {
            method: method,
            url: url
        }));
    };
    Axios.prototype._requestMethodWithData = function (method, url, data, config) {
        return this.request(Object.assign(config || {}, {
            method: method,
            url: url,
            data: data
        }));
    };
    return Axios;
}());
export default Axios;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQXhpb3MuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJBeGlvcy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDQSxPQUFPLGVBQWUsTUFBTSxtQkFBbUIsQ0FBQTtBQUMvQyxPQUFPLGtCQUFrQixNQUFNLHNCQUFzQixDQUFBO0FBQ3JELE9BQU8sV0FBVyxNQUFNLGVBQWUsQ0FBQTtBQVl2QztJQUlFLGVBQVksVUFBOEI7UUFDeEMsSUFBSSxDQUFDLFFBQVEsR0FBRyxVQUFVLENBQUE7UUFDMUIsSUFBSSxDQUFDLFlBQVksR0FBRztZQUNsQixPQUFPLEVBQUUsSUFBSSxrQkFBa0IsRUFBc0I7WUFDckQsUUFBUSxFQUFFLElBQUksa0JBQWtCLEVBQWlCO1NBQ2xELENBQUE7SUFDSCxDQUFDO0lBQ0QsdUJBQU8sR0FBUCxVQUFRLEdBQVEsRUFBRSxNQUFZO1FBQzVCLElBQUksT0FBTyxHQUFHLEtBQUssUUFBUSxFQUFFO1lBQzNCLElBQUksQ0FBQyxNQUFNLEVBQUU7Z0JBQ1gsTUFBTSxHQUFHLEVBQUUsQ0FBQTthQUNaO1lBQ0QsTUFBTSxDQUFDLEdBQUcsR0FBRyxHQUFHLENBQUE7U0FDakI7YUFBTTtZQUNMLE1BQU0sR0FBRyxHQUFHLENBQUE7U0FDYjtRQUNELE1BQU0sR0FBRyxXQUFXLENBQUMsSUFBSSxDQUFDLFFBQVEsRUFBRSxNQUFNLENBQUMsQ0FBQTtRQUMzQyxJQUFNLEtBQUssR0FBd0IsQ0FBQztnQkFDbEMsUUFBUSxFQUFFLGVBQWU7Z0JBQ3pCLFFBQVEsRUFBRSxTQUFTO2FBQ3BCLENBQUMsQ0FBQTtRQUNGLElBQUksQ0FBQyxZQUFZLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxVQUFBLFdBQVc7WUFDM0MsS0FBSyxDQUFDLE9BQU8sQ0FBQyxXQUFXLENBQUMsQ0FBQTtRQUM1QixDQUFDLENBQUMsQ0FBQTtRQUVGLElBQUksQ0FBQyxZQUFZLENBQUMsUUFBUSxDQUFDLE9BQU8sQ0FBQyxVQUFBLFdBQVc7WUFDNUMsS0FBSyxD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QyxBQWpHRCxJQWlHQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEF4aW9zUmVxdWVzdENvbmZpZywgQXhpb3NQcm9taXNlLCBNZXRob2QsIEF4aW9zUmVzcG9uc2UsIFJlc29sdmVkRm4sIFJlamVjdGVkRm4gfSBmcm9tICcuLi90eXBlcy9pbmRleCdcbmltcG9ydCBkaXNwYXRjaFJlcXVlc3QgZnJvbSAnLi9kaXNwYXRjaFJlcXVlc3QnXG5pbXBvcnQgSW50ZXJjZXB0b3JNYW5hZ2VyIGZyb20gJy4vSW50ZXJjZXB0b3JNYW5hZ2VyJ1xuaW1wb3J0IG1lcmdlQ29uZmlnIGZyb20gJy4vbWVyZ2VDb25maWcnXG5cbmV4cG9ydCBpbnRlcmZhY2UgSW50ZXJjZXB0b3JzIHtcbiAgcmVxdWVzdDogSW50ZXJjZXB0b3JNYW5hZ2VyPEF4aW9zUmVxdWVzdENvbmZpZz5cbiAgcmVzcG9uc2U6IEludGVyY2VwdG9yTWFuYWdlcjxBeGlvc1Jlc3BvbnNlPlxufVxuXG5pbnRlcmZhY2UgUHJvbWlzZUNoYWluPFQ+IHtcbiAgcmVzb2x2ZWQ6IFJlc29sdmVkRm48VD4gfCAoKGNvbmZpZzogQXhpb3NSZXF1ZXN0Q29uZmlnKSA9PiBBeGlvc1Byb21pc2UpXG4gIHJlamVjdGVkPzogUmVqZWN0ZWRGblxufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBeGlvcyB7XG4gIGRlZmF1bHRzOiBBeGlvc1JlcXVlc3RDb25maWdcbiAgaW50ZXJjZXB0b3JzOiBJbnRlcmNlcHRvcnNcblxuICBjb25zdHJ1Y3Rvcihpbml0Q29uZmlnOiBBeGlvc1JlcXVlc3RDb25maWcpIHtcbiAgICB0aGlzLmRlZmF1bHRzID0gaW5pdENvbmZpZ1xuICAgIHRoaXMuaW50ZXJjZXB0b3JzID0ge1xuICAgICAgcmVxdWVzdDogbmV3IEludGVyY2VwdG9yTWFuYWdlcjxBeGlvc1JlcXVlc3RDb25maWc+KCksXG4gICAgICByZXNwb25zZTogbmV3IEludGVyY2VwdG9yTWFuYWdlcjxBeGlvc1Jlc3BvbnNlPigpXG4gICAgfVxuICB9XG4gIHJlcXVlc3QodXJsOiBhbnksIGNvbmZpZz86IGFueSk6IEF4aW9zUHJvbWlzZSB7XG4gICAgaWYgKHR5cGVvZiB1cmwgPT09ICdzdHJpbmcnKSB7XG4gICAgICBpZiAoIWNvbmZpZykge1xuICAgICAgICBjb25maWcgPSB7fVxuICAgICAgfVxuICAgICAgY29uZmlnLnVybCA9IHVybFxuICAgIH0gZWxzZSB7XG4gICAgICBjb25maWcgPSB1cmxcbiAgICB9XG4gICAgY29uZmlnID0gbWVyZ2VDb25maWcodGhpcy5kZWZhdWx0cywgY29uZmlnKVxuICAgIGNvbnN0IGNoYWluOiBQcm9taXNlQ2hhaW48YW55PltdID0gW3tcbiAgICAgIHJlc29sdmVkOiBkaXNwYXRjaFJlcXVlc3QsXG4gICAgICByZWplY3RlZDogdW5kZWZpbmVkXG4gICAgfV1cbiAgICB0aGlzLmludGVyY2VwdG9ycy5yZXF1ZXN0LmZvckVhY2goaW50ZXJjZXB0b3IgPT4ge1xuICAgICAgY2hhaW4udW5zaGlmdChpbnRlcmNlcHRvcilcbiAgICB9KVxuXG4gICAgdGhpcy5pbnRlcmNlcHRvcnMucmVzcG9uc2UuZm9yRWFjaChpbnRlcmNlcHRvciA9PiB7XG4gICAgICBjaGFpbi5wdXNoKGludGVyY2VwdG9yKVxuICAgIH0pXG5cbiAgICBsZXQgcHJvbWlzZSA9IFByb21pc2UucmVzb2x2ZShjb25maWcpXG5cbiAgICB3aGlsZSAoY2hhaW4ubGVuZ3RoKSB7XG4gICAgICBjb25zdCB7IHJlc29sdmVkLCByZWplY3RlZCB9ID0gY2hhaW4uc2hpZnQoKSFcbiAgICAgIHByb21pc2UgPSBwcm9taXNlLnRoZW4ocmVzb2x2ZWQsIHJlamVjdGVkKVxuICAgIH1cblxuICAgIHJldHVybiBwcm9taXNlXG4gIH1cblxuICBnZXQodXJsOiBzdHJpbmcsIGNvbmZpZz86IEF4aW9zUmVxdWVzdENvbmZpZyk6IEF4aW9zUHJvbWlzZSB7XG4gICAgcmV0dXJuIHRoaXMuX3JlcXVlc3RNZXRob2RXaXRob3V0RGF0YSgnR0VUJywgdXJsLCBjb25maWcpXG4gIH1cblxuICBkZWxldGUodXJsOiBzdHJpbmcsIGNvbmZpZz86IEF4aW9zUmVxdWVzdENvbmZpZyk6IEF4aW9zUHJvbWlzZSB7XG4gICAgcmV0dXJuIHRoaXMuX3JlcXVlc3RNZXRob2RXaXRob3V0RGF0YSgnREVMRVRFJywgdXJsLCBjb25maWcpXG4gIH1cblxuICBoZWFkKHVybDogc3RyaW5nLCBjb25maWc/OiBBeGlvc1JlcXVlc3RDb25maWcpOiBBeGlvc1Byb21pc2Uge1xuICAgIHJldHVybiB0aGlzLl9yZXF1ZXN0TWV0aG9kV2l0aG91dERhdGEoJ0hFQUQnLCB1cmwsIGNvbmZpZylcbiAgfVxuXG4gIG9wdGlvbnModXJsOiBzdHJpbmcsIGNvbmZpZz86IEF4aW9zUmVxdWVzdENvbmZpZyk6IEF4aW9zUHJvbWlzZSB7XG4gICAgcmV0dXJuIHRoaXMuX3JlcXVlc3RNZXRob2RXaXRob3V0RGF0YSgnT1BUSU9OUycsIHVybCwgY29uZmlnKVxuICB9XG5cbiAgdHJhY2UodXJsOiBzdHJpbmcsIGNvbmZpZz86IEF4aW9zUmVxdWVzdENvbmZpZyk6IEF4aW9zUHJvbWlzZSB7XG4gICAgcmV0dXJuIHRoaXMuX3JlcXVlc3RNZXRob2RXaXRob3V0RGF0YSgnVFJBQ0UnLCB1cmwsIGNvbmZpZylcbiAgfVxuXG4gIGNvbm5lY3QodXJsOiBzdHJpbmcsIGNvbmZpZz86IEF4aW9zUmVxdWVzdENvbmZpZyk6IEF4aW9zUHJvbWlzZSB7XG4gICAgcmV0dXJuIHRoaXMuX3JlcXVlc3RNZXRob2RXaXRob3V0RGF0YSgnQ09OTkVDVCcsIHVybCwgY29uZmlnKVxuICB9XG5cbiAgcG9zdCh1cmw6IHN0cmluZywgZGF0YT86IGFueSwgY29uZmlnPzogQXhpb3NSZXF1ZXN0Q29uZmlnKTogQXhpb3NQcm9taXNlIHtcbiAgICByZXR1cm4gdGhpcy5fcmVxdWVzdE1ldGhvZFdpdGhEYXRhKCdQT1NUJywgdXJsLCBkYXRhLCBjb25maWcpXG4gIH1cblxuICBwdXQodXJsOiBzdHJpbmcsIGRhdGE/OiBhbnksIGNvbmZpZz86IEF4aW9zUmVxdWVzdENvbmZpZyk6IEF4aW9zUHJvbWlzZSB7XG4gICAgcmV0dXJuIHRoaXMuX3JlcXVlc3RNZXRob2RXaXRoRGF0YSgnUFVUJywgdXJsLCBkYXRhLCBjb25maWcpXG4gIH1cblxuICB1cGxvYWQodXJsOiBzdHJpbmcsIGNvbmZpZz86IEF4aW9zUmVxdWVzdENvbmZpZyk6IEF4aW9zUHJvbWlzZSB7XG4gICAgcmV0dXJuIHRoaXMuX3JlcXVlc3RNZXRob2RXaXRob3V0RGF0YSgnVVBMT0FEJywgdXJsLCBjb25maWcpXG4gIH1cblxuICBfcmVxdWVzdE1ldGhvZFdpdGhvdXREYXRhKG1ldGhvZDogTWV0aG9kLCB1cmw6IHN0cmluZywgY29uZmlnPzogQXhpb3NSZXF1ZXN0Q29uZmlnKSB7XG4gICAgcmV0dXJuIHRoaXMucmVxdWVzdChcbiAgICAgIE9iamVjdC5hc3NpZ24oY29uZmlnIHx8IHt9LCB7XG4gICAgICAgIG1ldGhvZCxcbiAgICAgICAgdXJsXG4gICAgICB9KVxuICAgIClcbiAgfVxuXG4gIF9yZXF1ZXN0TWV0aG9kV2l0aERhdGEobWV0aG9kOiBNZXRob2QsIHVybDogc3RyaW5nLCBkYXRhPzogYW55LCBjb25maWc/OiBBeGlvc1JlcXVlc3RDb25maWcpIHtcbiAgICByZXR1cm4gdGhpcy5yZXF1ZXN0KFxuICAgICAgT2JqZWN0LmFzc2lnbihjb25maWcgfHwge30sIHtcbiAgICAgICAgbWV0aG9kLFxuICAgICAgICB1cmwsXG4gICAgICAgIGRhdGFcbiAgICAgIH0pXG4gICAgKVxuICB9XG59Il19